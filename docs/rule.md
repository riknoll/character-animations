# create rule

Creates a rule that can be used to check the state of the sprite or control when animations on a sprite run.

Rules are made of [predicates](./predicate), which are statements that describe how a sprite is currently acting.
Every predicate in a rule must be true for that rule to match a sprite.
Rules that are impossible, like "Moving and NotMoving", are always ignored.


```sig
character.rule(Predicate.NotMoving)
```

## Parameters

* **predicate**: a [predicate](./predicate) that describes the state of the sprite

## Rule Priority

In animations, rules that have more unique predicates always take priority over those with fewer predicates.
For example, let's say a sprite has animations for both of these rules:

1. "Moving"
2. "Moving and FacingRight"

When the sprite moves to the right both of these rules are true.
However, animation 2 will play because its rule contains more predicates.

## Using "Facing" predicates

The predicates "FacingUp", "FacingRight", "FacingDown", and "FacingLeft" will only apply to a sprite if they are used in a rule that controls an animation on that sprite.
This behavior is mostly to support sidescrollers, which usually limit the number of directions that a sprite can face.

For example, in a platformer a sprite might move up and down (e.g. jumping and falling) but they usually only face left or right.
If the sprite is falling straight down with no change in x, the sprite will continue to face in whatever direction it was last facing instead of facing down.

If you want to match one of the "Facing" predicates, be sure to use it somewhere in the animations of that sprite.

## Example #example

In this example, we animate a sprite when facing left and right but not up and down.
If you move the sprite up and down notice that whichever animation was looping before continues to loop.

```blocks
scene.setBackgroundColor(9)
let hero = sprites.create(img`
    ........................
    ........................
    ........................
    ........................
    ..........ffff..........
    ........ff1111ff........
    .......fb111111bf.......
    .......f11111111f.......
    ......fd11111111df......
    ......fd11111111df......
    ......fddd1111dddf......
    ......fbdbfddfbdbf......
    ......fcdcf11fcdcf......
    .......fb111111bf.......
    ......fffcdb1bdffff.....
    ....fc111cbfbfc111cf....
    ....f1b1b1ffff1b1b1f....
    ....fbfbffffffbfbfbf....
    .........ffffff.........
    ...........fff..........
    ........................
    ........................
    ........................
    ........................
    `, SpriteKind.Player)
character.loopFrames(
hero,
[img`
    ........................
    ........................
    ........................
    ........................
    ..........fffff.........
    ........ff11111f........
    .......fb111111bf.......
    ......fbd1111111f.......
    ......fddd111111df......
    ......fdddd11111df......
    ......fddddddd11df......
    ......fddddddd111f......
    ......fddddddcf11f......
    .......fbdddb1111bf.....
    ........fffcfdb1b1f.....
    .......ffffffffbfbf.....
    ....ff.fffffffffff......
    .....ffffffff...........
    .....ffffffb1b1f........
    ......ffffffbfbf........
    ........................
    ........................
    ........................
    ........................
    `,img`
    ........................
    ........................
    ........................
    ........................
    ..........ffff..........
    ........ff1111ff........
    .......fb111111bf.......
    .......fd1111111f.......
    ......fdd1111111df......
    ......fddd111111df......
    ......fdddddd111df......
    ......fbddddbfd1df......
    ......fcbbbdcfddbf......
    .......fcbb11111f.......
    ........fffff1b1f.......
    ........fb111cfbf.......
    ........ffb1b1ff........
    ......f.fffbfbf.........
    ......ffffffff..........
    .......fffff............
    ........................
    ........................
    ........................
    ........................
    `],
100,
character.rule(Predicate.Moving, Predicate.FacingRight)
)
character.loopFrames(
hero,
[img`
    ........................
    ........................
    ........................
    ........................
    .........fffff..........
    ........f11111ff........
    .......fb111111bf.......
    .......f1111111dbf......
    ......fd111111dddf......
    ......fd11111ddddf......
    ......fd11dddddddf......
    ......f111dddddddf......
    ......f11fcddddddf......
    .....fb1111bdddbf.......
    .....f1b1bdfcfff........
    .....fbfbffffffff.......
    ......fffffffffff.ff....
    ...........ffffffff.....
    ........f1b1bffffff.....
    ........fbfbffffff......
    ........................
    ........................
    ........................
    ........................
    `,img`
    ........................
    ........................
    ........................
    ........................
    ..........ffff..........
    ........ff1111ff........
    .......fb111111bf.......
    .......f1111111df.......
    ......fd1111111ddf......
    ......fd111111dddf......
    ......fd111ddddddf......
    ......fd1dfbddddbf......
    ......fbddfcdbbbcf......
    .......f11111bbcf.......
    .......f1b1fffff........
    .......fbfc111bf........
    ........ff1b1bff........
    .........fbfbfff.f......
    ..........ffffffff......
    ............fffff.......
    ........................
    ........................
    ........................
    ........................
    `],
100,
character.rule(Predicate.Moving, Predicate.FacingLeft)
)
controller.moveSprite(hero)

```

```package
arcade-story=github:riknoll/character-animations
```